#!/bin/bash

# dependencies #

# usage #

# variables #

script=$(basename -- "${BASH_SOURCE[0]}")

home="/home/${SUDO_USER:-$USER}"

application="leocad"
build_directory="/tmp/build"
source="https://github.com/leozide/leocad.git"

# packages #

install_list=(
        git
        hub
        g++
        make
        zlib1g-dev
        libqt5concurrent5
        libqt5opengl5
        libqt5opengl5-dev
        libqt5printsupport5
        libqt5xml5
        qt5-default
        qttools5-dev
        qttools5-dev-tools
)

# install #

for package in "${install_list[@]}"
do
<<<<<<< HEAD
        echo yes | apt-get install "${package}"
=======
	echo yes | apt-get install "${package}"
>>>>>>> da55402935f093e5d3c6f78d501d84c3b2cbee58
done

# build #

git clone "${source}" "${build_directory}"

cd "${build_directory}" || exit 1

# compile project

qmake "${application}".pro

# compile binary

make -s

# update #

cp "${build_directory}"/build/release/"${application}" /usr/bin/"${application}"

# clean #

# remove build directory

rm -rf "${build_directory}"/*
